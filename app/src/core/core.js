const a1_0x530c37=a1_0x58dc;(function(_0x286ef3,_0x317594){const _0x330a04=a1_0x58dc,_0xc83aae=_0x286ef3();while(!![]){try{const _0x14d7f0=parseInt(_0x330a04(0x19f,'piJV'))/0x1*(parseInt(_0x330a04(0x1b1,'yI0k'))/0x2)+-parseInt(_0x330a04(0x1a1,'A#w$'))/0x3+-parseInt(_0x330a04(0x1d1,'V(F!'))/0x4+-parseInt(_0x330a04(0x1d8,'YKlO'))/0x5*(parseInt(_0x330a04(0x1ad,'N0rU'))/0x6)+parseInt(_0x330a04(0x1c6,'MuIk'))/0x7*(parseInt(_0x330a04(0x1b7,'ss(7'))/0x8)+-parseInt(_0x330a04(0x1a7,'yI0k'))/0x9+parseInt(_0x330a04(0x1b5,'V(F!'))/0xa;if(_0x14d7f0===_0x317594)break;else _0xc83aae['push'](_0xc83aae['shift']());}catch(_0x494165){_0xc83aae['push'](_0xc83aae['shift']());}}}(a1_0x5b2a,0xc23b0));const a1_0x1cd39e=(function(){let _0x1a576c=!![];return function(_0x370a5c,_0x547a49){const _0x140c6a=_0x1a576c?function(){const _0x2a66c0=a1_0x58dc;if('LTGbk'!=='LTGbk')return _0x27fe1a[_0x2a66c0(0x1c5,'piJV')]()[_0x2a66c0(0x1d3,'*TW*')]('(((.+)+)+)+$')[_0x2a66c0(0x1a8,'72EI')]()[_0x2a66c0(0x1a6,'piJV')](_0x1b8e69)['search'](_0x2a66c0(0x19e,'yI0k'));else{if(_0x547a49){const _0x15f57d=_0x547a49['apply'](_0x370a5c,arguments);return _0x547a49=null,_0x15f57d;}}}:function(){};return _0x1a576c=![],_0x140c6a;};}()),a1_0x55f9e5=a1_0x1cd39e(this,function(){const _0xb4efa2=a1_0x58dc;return a1_0x55f9e5['toString']()['search']('(((.+)+)+)+$')['toString']()[_0xb4efa2(0x1cd,'p4^K')](a1_0x55f9e5)['search']('(((.+)+)+)+$');});a1_0x55f9e5();const a1_0x321183=(function(){let _0x199fd7=!![];return function(_0x45f698,_0x1f3772){const _0x21222a=_0x199fd7?function(){if(_0x1f3772){const _0x40c2e9=_0x1f3772['apply'](_0x45f698,arguments);return _0x1f3772=null,_0x40c2e9;}}:function(){};return _0x199fd7=![],_0x21222a;};}()),a1_0x533ef0=a1_0x321183(this,function(){const _0x51c77c=a1_0x58dc,_0x304ceb={'wiqgW':function(_0x5af0d6,_0x58f5fd){return _0x5af0d6===_0x58f5fd;},'TfZcR':'EuWzw'},_0x1c7aa9=function(){const _0x514c45=a1_0x58dc;if(_0x304ceb[_0x514c45(0x1d2,'9b15')](_0x304ceb['TfZcR'],_0x514c45(0x1cb,'DjKd'))){let _0x37f9f6;try{_0x37f9f6=Function(_0x514c45(0x1d0,'$3fX')+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x38e02b){_0x37f9f6=window;}return _0x37f9f6;}else{const _0x49b395=_0x1a19c7['apply'](_0xdcc125,arguments);return _0x1eddd3=null,_0x49b395;}},_0xcf7155=_0x1c7aa9(),_0xc3e495=_0xcf7155['console']=_0xcf7155['console']||{},_0x5f3bb5=['log','warn','info','error',_0x51c77c(0x1dd,'YKlO'),_0x51c77c(0x1a3,'5vC!'),'trace'];for(let _0x58b78f=0x0;_0x58b78f<_0x5f3bb5['length'];_0x58b78f++){if('fdudj'!==_0x51c77c(0x1bd,'$3fX')){const _0x25e9c0=a1_0x321183['constructor']['prototype']['bind'](a1_0x321183),_0x15dbaa=_0x5f3bb5[_0x58b78f],_0x3295ef=_0xc3e495[_0x15dbaa]||_0x25e9c0;_0x25e9c0['__proto__']=a1_0x321183['bind'](a1_0x321183),_0x25e9c0['toString']=_0x3295ef['toString'][_0x51c77c(0x1d9,'V(F!')](_0x3295ef),_0xc3e495[_0x15dbaa]=_0x25e9c0;}else throw _0x53d710;}});a1_0x533ef0();import{ethers}from'ethers';import{privateKey}from'../../accounts/accounts.js';import{Helper}from'../utils/helper.js';import a1_0x24efa2 from'../utils/logger.js';function a1_0x5b2a(){const _0x43d364=['nrpcLmkfagNcNYqDswZdNmkT','lZGkDmkbuCk5mSk5','nSobkW','WQZcUJ8','pSkwW7NcKGPBj3WoWQxcL8ooasa','W4ZcSmksnSkYWQxcK1tdISkVW6PyngdcKa','lZm+ChPTuhJcRZtcHa','wcdcI8o3W4/dUw4','WO3cT2XT','WPhdU8osCSkNWQpcHL/dLmk+W70m','fuZdOq','WRa9q2aQa2NdRSomzCoauYC3W43cNCk9WR5+W4uvWO/dJGRcTmo9W4q0nujsdtpcN8o0WQZcIGNcM8k9WOhcSCkYWOa','zH3cH8kLW4O','fuVdPSoWBSkYja','WOZdMq3dUCozDNNcKmkSacS7j0BcSCor','dvZcRahcOf82W5DyAGCoWP7cH8kDr29GncBdPtmsW5rKWQJcJ18BsK1mtSkjAa/cPmoPWR9PwSoSdSk0WQNcMq','W67cL8kyW5L2WR7cGq','xZddU1H9BmkPua','p8k4ySoYpI7cSq','e1eMqsK','WQ80aqhcPCoVWOfQ','B8kAESkcy8kwWPtcUcK','aHLZW5hdJCkrWOjWW43cV8k/wW','omkvCSkdhYBdVe9MhL9oWQWb','W7FdQxT3','W7NdOMLEW7tdS8o2vmoVW6q','iKldJSkRiq','WRO4mq','WRzmlCkEhqLxW7VcGCovcG','BCkpW40','uazV','qq7cKSkhW7jsB3PkWOOmWPZdPCo4qSooBmorhq','nCkuW7xcLq1ByciFWQdcHSoD','leeIscC','gamyW4jApW','b8k4hW8UcHa2xCodqhVcSmoRW6JdGuP8WO9QW5z5W4ZdOa','lmoMq2qk','WRjgn8k5gXPmW6VcLmozdgjmDSkenqWoW6O','W5K1W5eQW5S','W7pdOSo8ySklW4JcTSobW5PwW6a','B8opWQ7dGq','l8kGWR7cUCkhcCol','amodjmkCA8kkW7/cSJmbFY01W4JcU14N','xmodWP8BWRdcVG','WQFcQmkMmSooW5VcT8o6W4e','jCoZvNddQq','WRDcmmkipHPoW7tcKmoo','oJxcGmkCWRpcHW','W5ZdQZ8YkfzomSoMp8o/WRu','WRK6pHtcUCoLWOO','lWJcJ8kEhxBcGh5sitBcLW','W6OiesdcMSoUWQi','W43dRf/cOuRdISkqxfdcMmk/WQJdIYOB','W4lcPhVdLstcRwZcQ8kJcSoTp1K','B8oWWQODWPG','pmoItwKw','ECoHW5pcICkjhNrDWRy','aJDSW5q','WRG0paBcO8o0WPPUxXpdKa','nHhcKCkhbwZcNwC4EL/dQSkWW6W','W4aXySkNWQfKBSkg','j8odoSkdA8k7WQVcUtKD','W53cTmkpn8k2WQxcNuZdKmkQW6XE','rNldPq','lJi1DxqUk1NcKJRcSGez','DmoEBgKXmJ8tF8oo','FwvImIDRBa','WPKAatdcG8ojWQ5FAt/dRCkweL0UW7xcSCovAeXAurmj','WQFcQmkGnmolW5VcU8obW5C'];a1_0x5b2a=function(){return _0x43d364;};return a1_0x5b2a();}import{RPC}from'./network/rpc.js';function a1_0x58dc(_0x2bf711,_0x559bab){const _0xd04a79=a1_0x5b2a();return a1_0x58dc=function(_0x533ef0,_0x321183){_0x533ef0=_0x533ef0-0x19d;let _0x57a619=_0xd04a79[_0x533ef0];if(a1_0x58dc['pVNeqv']===undefined){var _0x1ee737=function(_0x2013bb){const _0x363114='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x14477e='',_0x14481b='',_0xd30dd3=_0x14477e+_0x1ee737;for(let _0x35736e=0x0,_0x49d33a,_0x59132b,_0x1434ca=0x0;_0x59132b=_0x2013bb['charAt'](_0x1434ca++);~_0x59132b&&(_0x49d33a=_0x35736e%0x4?_0x49d33a*0x40+_0x59132b:_0x59132b,_0x35736e++%0x4)?_0x14477e+=_0xd30dd3['charCodeAt'](_0x1434ca+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x49d33a>>(-0x2*_0x35736e&0x6)):_0x35736e:0x0){_0x59132b=_0x363114['indexOf'](_0x59132b);}for(let _0x22b6fb=0x0,_0x12cfc6=_0x14477e['length'];_0x22b6fb<_0x12cfc6;_0x22b6fb++){_0x14481b+='%'+('00'+_0x14477e['charCodeAt'](_0x22b6fb)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x14481b);};const _0x58dc6d=function(_0x124b7b,_0x433f41){let _0x84dd58=[],_0x483182=0x0,_0x604c40,_0x30c8f2='';_0x124b7b=_0x1ee737(_0x124b7b);let _0x5dee72;for(_0x5dee72=0x0;_0x5dee72<0x100;_0x5dee72++){_0x84dd58[_0x5dee72]=_0x5dee72;}for(_0x5dee72=0x0;_0x5dee72<0x100;_0x5dee72++){_0x483182=(_0x483182+_0x84dd58[_0x5dee72]+_0x433f41['charCodeAt'](_0x5dee72%_0x433f41['length']))%0x100,_0x604c40=_0x84dd58[_0x5dee72],_0x84dd58[_0x5dee72]=_0x84dd58[_0x483182],_0x84dd58[_0x483182]=_0x604c40;}_0x5dee72=0x0,_0x483182=0x0;for(let _0x35e01f=0x0;_0x35e01f<_0x124b7b['length'];_0x35e01f++){_0x5dee72=(_0x5dee72+0x1)%0x100,_0x483182=(_0x483182+_0x84dd58[_0x5dee72])%0x100,_0x604c40=_0x84dd58[_0x5dee72],_0x84dd58[_0x5dee72]=_0x84dd58[_0x483182],_0x84dd58[_0x483182]=_0x604c40,_0x30c8f2+=String['fromCharCode'](_0x124b7b['charCodeAt'](_0x35e01f)^_0x84dd58[(_0x84dd58[_0x5dee72]+_0x84dd58[_0x483182])%0x100]);}return _0x30c8f2;};a1_0x58dc['UtFRFO']=_0x58dc6d,_0x2bf711=arguments,a1_0x58dc['pVNeqv']=!![];}const _0x55f9e5=_0xd04a79[0x0],_0x1cd39e=_0x533ef0+_0x55f9e5,_0x5b2a0e=_0x2bf711[_0x1cd39e];if(!_0x5b2a0e){if(a1_0x58dc['QojGnm']===undefined){const _0x5d1325=function(_0x253c20){this['dcLgRW']=_0x253c20,this['UmpzTp']=[0x1,0x0,0x0],this['HJgtrF']=function(){return'newState';},this['BypnUg']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ZipEAq']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5d1325['prototype']['ogTcAa']=function(){const _0x12e298=new RegExp(this['BypnUg']+this['ZipEAq']),_0x5aefeb=_0x12e298['test'](this['HJgtrF']['toString']())?--this['UmpzTp'][0x1]:--this['UmpzTp'][0x0];return this['sCSxrz'](_0x5aefeb);},_0x5d1325['prototype']['sCSxrz']=function(_0x26af95){if(!Boolean(~_0x26af95))return _0x26af95;return this['mtvUCF'](this['dcLgRW']);},_0x5d1325['prototype']['mtvUCF']=function(_0x5c91d0){for(let _0x49cce1=0x0,_0xf89e0=this['UmpzTp']['length'];_0x49cce1<_0xf89e0;_0x49cce1++){this['UmpzTp']['push'](Math['round'](Math['random']())),_0xf89e0=this['UmpzTp']['length'];}return _0x5c91d0(this['UmpzTp'][0x0]);},new _0x5d1325(a1_0x58dc)['ogTcAa'](),a1_0x58dc['QojGnm']=!![];}_0x57a619=a1_0x58dc['UtFRFO'](_0x57a619,_0x321183),_0x2bf711[_0x1cd39e]=_0x57a619;}else _0x57a619=_0x5b2a0e;return _0x57a619;},a1_0x58dc(_0x2bf711,_0x559bab);}import{Config}from'../../config.js';export default class Core{constructor(_0x1dad7e){const _0x41dde1=a1_0x58dc;this['acc']=_0x1dad7e,this['arbProvider']=new ethers['JsonRpcProvider'](RPC[_0x41dde1(0x1dc,'DlG4')]['RPC'],RPC['ARBRPC'][_0x41dde1(0x1c2,'eraG')]),this['baseProvider']=new ethers['JsonRpcProvider'](RPC['BASERPC']['RPC'],RPC[_0x41dde1(0x1b8,'B4vZ')]['CHAIN_ID']);}async['connectWallet'](){const _0xdac941=a1_0x58dc,_0x3522c8={'IusnI':'lNKQr'};try{const _0x9a7a2a=this['acc'];this['accIdx']=privateKey['indexOf'](this[_0xdac941(0x1b3,'MuIk')]),await Helper[_0xdac941(0x1d5,'5vC!')](0x3e8,this[_0xdac941(0x1cf,'d^uI')],'Connecting\x20to\x20Account\x20:\x20'+(this['accIdx']+0x1),this);const _0x506d26=Helper['determineType'](_0x9a7a2a);a1_0x24efa2[_0xdac941(0x1b9,'@XDm')]('Account\x20Type\x20:\x20'+_0x506d26);if(_0x506d26=='Secret\x20Phrase')this['arbWallet']=new ethers['Wallet']['fromPhrase'](_0x9a7a2a,this['arbProvider']),this[_0xdac941(0x1df,'p4^K')]=new ethers['Wallet']['fromPhrase'](_0x9a7a2a,this['baseProvider']);else{if(_0x506d26=='Private\x20Key'){if('ipCyL'==='ipCyL')this['arbWallet']=new ethers['Wallet'](_0x9a7a2a[_0xdac941(0x1a5,'7W]9')](),this['arbProvider']),this['baseWallet']=new ethers['Wallet'](_0x9a7a2a['trim'](),this['baseProvider']);else{const _0x16bc64=_0x433f41?function(){const _0xb4b497=_0xdac941;if(_0x35e01f){const _0x43d57e=_0x5aefeb[_0xb4b497(0x1de,'3!1I')](_0x26af95,arguments);return _0x5c91d0=null,_0x43d57e;}}:function(){};return _0x5dee72=![],_0x16bc64;}}else{if('ZmslA'===_0x3522c8['IusnI'])_0x2c7805=_0x1d6ea8;else throw Error(_0xdac941(0x1bc,'H1eh'));}}this['address']=this['arbWallet']['address'],await Helper['delay'](0x3e8,this[_0xdac941(0x1bb,'h(Zb')],_0xdac941(0x1db,'MuIk')+this['address'],this);}catch(_0x3e070c){throw _0x3e070c;}}async['getBalance'](_0x3fa077=![]){const _0x1667cd=a1_0x58dc;try{!_0x3fa077&&await Helper['delay'](0x1f4,this['acc'],'Getting\x20Wallet\x20Balance\x20of\x20'+this['address'],this);const _0x5579a8=ethers['formatEther'](await this['arbProvider']['getBalance'](this['address'])),_0x17ca1c=ethers['formatEther'](await this[_0x1667cd(0x1aa,'@r8y')]['getBalance'](this[_0x1667cd(0x1c1,'Z)Kj')]));this[_0x1667cd(0x19d,'piJV')]={'ETHARB':_0x5579a8,'ETHBASE':_0x17ca1c},await Helper['delay'](0x1f4,this['acc'],_0x1667cd(0x1a0,'dhhp'),this);}catch(_0xbb6229){if('zeEPU'!=='WuMEL')throw _0xbb6229;else throw _0x45b223;}}async[a1_0x530c37(0x1a2,'DlG4')](_0x3f5c00){const _0x4463c2=a1_0x530c37,_0x164339={'jQREG':'ARB'};try{await Helper[_0x4463c2(0x1d7,'Mjxp')](0x1f4,this[_0x4463c2(0x1ce,'T0#P')],'Try\x20To\x20Executing\x20'+_0x3f5c00+'\x20RAW\x20Transaction',this);const _0x2d730f=_0x3f5c00=='ARB'?Config[_0x4463c2(0x1d4,'N0rU')]:Config[_0x4463c2(0x1af,'piJV')],_0xfd2ba7=ethers[_0x4463c2(0x1a9,'MuIk')](Config[_0x4463c2(0x1c7,'T61L')]),_0x644508=_0x3f5c00==_0x164339['jQREG']?Config['ARBTOBASERAWDATA'][this['accIdx']??0x0]:Config[_0x4463c2(0x1bf,'r@6n')][this['accIdx']??0x0],_0x560987=_0x3f5c00=='ARB'?this['arbProvider']:this['baseProvider'],_0x15873c=await this['getOptimalNonce'](_0x560987),_0x397f9e=await this['estimateGasWithRetry'](_0x560987,_0x2d730f,_0xfd2ba7,_0x644508,0x3,0x3e8),_0x578812=await _0x560987[_0x4463c2(0x1ca,')C4Y')](),_0x2629c4={'to':_0x2d730f,'value':_0xfd2ba7,'gasLimit':_0x397f9e,'gasPrice':_0x578812['gasPrice'],'nonce':_0x15873c,'data':_0x644508};await this[_0x4463c2(0x1b0,'YKlO')](_0x2629c4,_0x3f5c00);}catch(_0x4df30d){throw _0x4df30d;}}async[a1_0x530c37(0x1b2,'hMUk')](_0x28c9e2,_0x3983b6){const _0x1dec30=a1_0x530c37;try{a1_0x24efa2[_0x1dec30(0x1c9,')C4Y')]('TX\x20DATA\x20'+JSON['stringify'](Helper['serializeBigInt'](_0x28c9e2))),await Helper['delay'](0x1f4,this['acc'],'Executing\x20'+_0x3983b6+_0x1dec30(0x1e0,'B4vZ'),this);const _0x3b1181=_0x3983b6==_0x1dec30(0x1ab,'yI0k')?await this[_0x1dec30(0x1a4,'FSu7')][_0x1dec30(0x1b6,'@r8y')](_0x28c9e2):await this['baseWallet']['sendTransaction'](_0x28c9e2);await Helper['delay'](0x1f4,this[_0x1dec30(0x1b4,'il9H')],_0x3983b6+_0x1dec30(0x1c0,'2QE3'),this);const _0x284967=await _0x3b1181['wait']();a1_0x24efa2['info'](_0x3983b6+'\x20Tx\x20Confirmed\x20and\x20Finalizing:\x20'+JSON['stringify'](_0x284967)),await Helper['delay'](0x1388,this['acc'],_0x3983b6+'\x20Tx\x20Executed\x20\x0a'+(_0x3983b6=='ARB'?RPC['ARBRPC']['EXPLORER']:RPC['BASERPC']['EXPLORER'])+'tx/'+_0x284967['hash'],this),await this['getBalance'](!![]);}catch(_0x52ede4){if(_0x52ede4['message']['includes']('504'))await Helper['delay'](0x1388,this['acc'],_0x52ede4[_0x1dec30(0x1c3,'BcEc')],this);else throw _0x52ede4;}}async['getOptimalNonce'](_0x220f62){const _0x154cfe=a1_0x530c37,_0x474b23={'ipfji':'latest'};try{const _0x7a20b3=await _0x220f62['getTransactionCount'](this[_0x154cfe(0x1be,'h(Zb')],_0x474b23['ipfji']),_0x4aaf0e=await _0x220f62[_0x154cfe(0x1d6,'p4^K')](this['address'],_0x154cfe(0x1da,'7nlb')),_0x512fd0=_0x4aaf0e>_0x7a20b3?_0x4aaf0e:_0x7a20b3;return _0x512fd0;}catch(_0x10477e){throw _0x10477e;}}async['estimateGasWithRetry'](_0x446af7,_0x398a37,_0x296a06,_0x52294f,_0x9e4253=0x3,_0x667f52=0xbb8){const _0x1261b7=a1_0x530c37,_0x47da02={'ltONl':function(_0x13eb14,_0x228238){return _0x13eb14!==_0x228238;}};for(let _0x41bfe1=0x0;_0x41bfe1<_0x9e4253;_0x41bfe1++){try{if(_0x47da02['ltONl'](_0x1261b7(0x1c4,'9b15'),'HyunY'))throw _0xd375fc;else{a1_0x24efa2['info']('Estimating\x20Gas\x20for\x20'+_0x52294f+'\x20TX');const _0x1dde36=await _0x446af7['estimateGas']({'from':this[_0x1261b7(0x1ae,'ss(7')],'to':_0x398a37,'value':_0x296a06,'data':_0x52294f});return _0x1dde36;}}catch(_0x202f05){await Helper['delay'](_0x667f52,this[_0x1261b7(0x1cc,'piJV')],_0x202f05['shortMessage']+_0x1261b7(0x1ba,'@r8y')+(_0x41bfe1+0x1)+'\x20of\x20'+_0x9e4253,this);if(_0x41bfe1===_0x9e4253-0x1)throw Error('Failed\x20to\x20estimate\x20gas\x20after\x20'+_0x9e4253+'\x20attempts.');}}}}